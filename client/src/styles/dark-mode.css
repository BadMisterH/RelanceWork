/* ===================================
   DARK MODE
   Toggle automatique avec préférence système
   =================================== */

/* Variables Dark Mode */
:root[data-theme="dark"] {
  /* Backgrounds */
  --color-bg-primary: #0a0a0a;
  --color-bg-secondary: #111111;
  --color-bg-tertiary: #1a1a1a;
  --color-border: #2a2a2a;
  --color-border-hover: #3a3a3a;

  /* Text Colors */
  --color-text-primary: #f5f5f5;
  --color-text-secondary: #a8a8a8;
  --color-text-tertiary: #737373;

  /* Status Colors - Plus vifs en dark mode */
  --status-sent: #60a5fa;
  --status-sent-bg: #1e3a8a;
  --status-interview: #a78bfa;
  --status-interview-bg: #4c1d95;
  --status-accepted: #34d399;
  --status-accepted-bg: #064e3b;
  --status-rejected: #f87171;
  --status-rejected-bg: #7f1d1d;
  --status-waiting: #fbbf24;
  --status-waiting-bg: #78350f;
  --status-relance: #f472b6;
  --status-relance-bg: #831843;

  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.4), 0 2px 4px -1px rgba(0, 0, 0, 0.3);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.5), 0 4px 6px -2px rgba(0, 0, 0, 0.4);
}

/* Toggle Switch Styles */
.theme-toggle {
  position: relative;
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 8px 12px;
  border-radius: 10px;
  background: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  user-select: none;
}

.theme-toggle:hover {
  border-color: var(--color-border-hover);
  box-shadow: var(--shadow-sm);
}

.theme-toggle-switch {
  position: relative;
  width: 44px;
  height: 24px;
  background: var(--color-bg-tertiary);
  border-radius: 12px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  border: 1px solid var(--color-border);
}

.theme-toggle-switch::before {
  content: '';
  position: absolute;
  top: 2px;
  left: 2px;
  width: 18px;
  height: 18px;
  background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
  border-radius: 50%;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

:root[data-theme="dark"] .theme-toggle-switch {
  background: #1a1a1a;
  border-color: #3a3a3a;
}

:root[data-theme="dark"] .theme-toggle-switch::before {
  transform: translateX(20px);
  background: linear-gradient(135deg, #818cf8 0%, #6366f1 100%);
}

.theme-toggle-icon {
  width: 18px;
  height: 18px;
  color: var(--color-text-secondary);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.theme-toggle-icon.sun {
  opacity: 1;
}

.theme-toggle-icon.moon {
  opacity: 0.4;
}

:root[data-theme="dark"] .theme-toggle-icon.sun {
  opacity: 0.4;
}

:root[data-theme="dark"] .theme-toggle-icon.moon {
  opacity: 1;
  color: #818cf8;
}

/* Smooth transitions for all elements */
* {
  transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
}

/* Dark mode specific adjustments */
:root[data-theme="dark"] body {
  background: var(--color-bg-primary);
  color: var(--color-text-primary);
}

:root[data-theme="dark"] .sidebar {
  background: var(--color-bg-secondary);
  border-right-color: var(--color-border);
}

:root[data-theme="dark"] .main-content {
  background: var(--color-bg-primary);
}

:root[data-theme="dark"] .top-header {
  background: var(--color-bg-secondary);
  border-bottom-color: var(--color-border);
}

:root[data-theme="dark"] .stat-card {
  background: var(--color-bg-secondary);
  border-color: var(--color-border);
}

:root[data-theme="dark"] .applications-table {
  background: var(--color-bg-secondary);
  border-color: var(--color-border);
}

:root[data-theme="dark"] .table-header {
  background: var(--color-bg-tertiary);
}

:root[data-theme="dark"] .table-body .table-row:hover {
  background: var(--color-bg-tertiary);
}

:root[data-theme="dark"] .action-btn {
  background: var(--color-bg-tertiary);
  border-color: var(--color-border);
  color: var(--color-text-secondary);
}

:root[data-theme="dark"] .action-btn:hover {
  border-color: var(--color-text-primary);
  color: var(--color-text-primary);
  background: var(--color-bg-secondary);
}

:root[data-theme="dark"] .action-btn.primary {
  background: var(--color-text-primary);
  color: var(--color-bg-primary);
}

/* Profile menu dark mode */
:root[data-theme="dark"] .profile-header {
  background: var(--color-bg-tertiary);
  border-color: var(--color-border);
}

:root[data-theme="dark"] .profile-menu {
  background: var(--color-bg-secondary);
  border-color: var(--color-border);
}

:root[data-theme="dark"] .profile-menu-item:hover {
  background: var(--color-bg-tertiary);
}

/* Animations plus visibles en dark mode */
:root[data-theme="dark"] .profile-avatar::before {
  background: linear-gradient(
    45deg,
    transparent,
    rgba(255, 255, 255, 0.05),
    transparent
  );
}

/* Status tags en dark mode */
:root[data-theme="dark"] .status-tag {
  font-weight: 700;
}

/* Cards et autres éléments */
:root[data-theme="dark"] .business-card,
:root[data-theme="dark"] .application-card {
  background: var(--color-bg-secondary);
  border-color: var(--color-border);
}

:root[data-theme="dark"] .quick-add-btn {
  background: var(--color-bg-tertiary);
  border-color: var(--color-border);
}

:root[data-theme="dark"] .nav-item:hover {
  background: var(--color-bg-tertiary);
}

:root[data-theme="dark"] .nav-item.active {
  background: var(--color-bg-tertiary);
  border-left-color: var(--color-text-primary);
}

/* Slide panel */
:root[data-theme="dark"] .slide-panel {
  background: var(--color-bg-secondary);
}

:root[data-theme="dark"] input,
:root[data-theme="dark"] select,
:root[data-theme="dark"] textarea {
  background: var(--color-bg-tertiary);
  border-color: var(--color-border);
  color: var(--color-text-primary);
}

:root[data-theme="dark"] input:focus,
:root[data-theme="dark"] select:focus,
:root[data-theme="dark"] textarea:focus {
  border-color: var(--color-text-secondary);
}

/* Loading spinner */
:root[data-theme="dark"] .loading-spinner {
  border-color: var(--color-border);
  border-top-color: var(--color-text-primary);
}
